<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
>
  <p:ajaxExceptionHandler
    type="jakarta.faces.application.ViewExpiredException"
    update="exceptionDialog"
    onexception="PF('exceptionDialog').show();"
  />
  <p:ajaxExceptionHandler
    type="org.apache.torque.TorqueException"
    update="exceptionDialog"
    onexception="PF('exceptionDialog').show();"
  />
  <p:dialog
    id="exceptionDialog"
    header="Exception: #{pfExceptionHandler.type} occured!"
    widgetVar="exceptionDialog"
    height="500px"
  >
    Message: #{pfExceptionHandler.message} <br /> StackTrace:
    <h:outputText
      value="#{pfExceptionHandler.formattedStackTrace}"
      escape="false"
    />
    <p:button
      onclick="document.location.href = document.location.href;"
      value="Reload!"
    />
  </p:dialog>
</html>
